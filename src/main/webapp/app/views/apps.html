<!DOCTYPE html>
<!--
  ~ Copyright (c) 2014. Atende Tecnologia da Informação e Prestação de Serviços.
  ~
  ~ Aviso. Este software está protegido por leis de direitos autorais e tratados internacionais.
  ~ A reprodução ou distribuição deste programa, ou qualquer parte dele, pode resultar em severas
  ~ penalidade civis e criminais e serão processadas sob a medida máxima prossível sob a lei.
  ~
  ~ Warning: This computer program is protected by copyright law and international treaties. Unauthorized
  ~ reproduction or distribution of this program, or any portion of it, may result in severe civil and
  ~ criminal penalties, and will be prosecuted under the maximum extent possible under law.
  -->
<h1>Aplicações</h1>
<div data-apps>

    <div class="row">
        <div class="columns medium-6">
            <form ng-submit="ctrl.addApp()">
                <label>Nome</label> <input maxlength="12" required name="name" type="text" ng-model="ctrl.app.name" />
                <label>Key</label> <input name="key" type="password" ng-model="ctrl.app.key" />
                <label>Confirmar Key</label> <input name="keyConfirm" type="password" ng-model="ctrl.keyConfirm" />
                <label>Descrição</label> <textarea maxlength="140" ng-model="ctrl.app.description"></textarea>
                <button type="submit">Salvar</button>
            </form>
        </div>
        <div class="columns medium-6">
            <button class="small" ng-click="ctrl.loadApps()">Recarregar</button>
            <button class="small" ng-click="ctrl.remover()">Remover Selecionado</button>
            <table width="500">
                <thead>
                <tr>
                    <td>Id</td>
                    <td>Nome</td>
                    <td>Última troca de chave</td>
                    <td>Descrição</td>
                </tr>
                </thead>
                <tbody>
                <tr id="app-{{app.id}}" ng-repeat="app in ctrl.apps" ng-click="ctrl.select(app);">
                    <td>{{app.id}}</td>
                    <td>{{app.name}}</td>
                    <td>{{app.lastKeyChange | date : 'medium'}}</td>
                    <td style="text-align: left;width: 300">
                        {{app.description}}
                    </td>
                </tr>
                </tbody>
            </table>
            <div ng-if="ctrl.apps.length == 0" class="alert-box warning">
                Não há aplicações
            </div>
        </div>

    </div>

</div>